---
title: Demo Post
slug: blog/demo-post
date: '2019-10-13'
spoiler: First post right here
# image: ./images/
---


_Thank you Harshad's Ranganathan [article](https://medium.com/@rharshad93/windows-subsytem-for-linux-wsl-on-windows-10-d4b8a6a1e78e) for reference_

## Pre-requisites

Ensure that “Windows Subsystem for Linux” feature is enabled by running below command in PowerShell as an administrator.

```shell
Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux
```

## Install Linux Distribution

1. Open the Microsoft Store and choose your [favorite Linux distribution][Ubuntu Microsoft Store].
1. From the distro’s page, select “Get” to install the distribution.

![Windows Store Screenshot](https://cdn-images-1.medium.com/max/800/0*fKRcIxMYKOs9S9II.png)

## FluentTerminal Setting Up

[GitHub](https://github.com/felixse/FluentTerminal)

Install [Chocolatey](https://chocolatey.org/)

From an elevated/admin shell, execute `choco install fluent-terminal`

## Upgrade Distro

Windows does not automatically update or upgrade your Linux distro(s). On Debian/Ubuntu, you can use apt to upgrade the packages:

```shell
sudo apt update && sudo apt upgrade
```

## Change Mount Path

WSL mounts your machine’s fixed drives under the `/mnt/<drive>` folder in your Linux distros.

```shell
sudo nano /etc/wsl.conf

[automount]
enable = true
root = /
options = "metadata"
```

## Install Docker

To install docker and docker compose  in WSL run below script

### How to run shell script

Open terminal where you want to create .sh script and type

`nano script-name.sh`

Start your script with

`#!/bin/bash`

Then paste you script

``` shell
echo Hello, World
```

Save it `ctrl+O > Enter`

Now you should make it executable by changing the permissions

```shell
sudo chmod u+x script-name.sh
```

Run script

```shell
sudo ./script-name.sh
```

### Docker script

Don't forget to check Docker Compose version in script

```shell
#!/bin/bash
set -e

# Update package lists
echo "# Updating package lists"
sudo apt-add-repository -y ppa:git-core/ppa
sudo apt-get update

# Ensure that CA certificates are installed
sudo apt-get -y install apt-transport-https ca-certificates

# Add Docker repository key to APT keychain
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -

# Update where APT will search for Docker Packages
echo "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | \
    sudo tee /etc/apt/sources.list.d/docker.list

# Update package lists
sudo apt-get update

# Verifies APT is pulling from the correct Repository
sudo apt-cache policy docker-ce

# Install Docker
echo "# Installing Docker"
sudo apt-get -y install docker-ce

# Add user account to the docker group
sudo usermod -aG docker $(whoami)

# Install docker compose // Last Version Numb https://github.com/docker/compose/releases/
echo "# Installing Docker-Compose"
sudo curl -L "https://github.com/docker/compose/releases/download/1.24.0/docker-compose-$(uname -s)-$(uname -m)" \
    -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# Print installation details for user
echo ''
echo 'Installation completed, versions installed are:'
echo ''
echo -n 'Docker:         '
docker --version
echo -n 'Docker Compose: '
docker-compose --version

# Print reminder of need to logout in order for these changes to take effect!
echo ''
echo "Please logout then login before continuing."
```

Enable `Expose daemon on tcp://localhost:2375 without TLS` in your `Docker for Windows` settings.

We then configure WSL to connect to the remote docker daemon running in Docker for Windows.

```shell
echo "export DOCKER_HOST=tcp://localhost:2375" >> ~/.bashrc && source ~/.bashrc
```

## Install Git, Node & Python

Check versions before executing

```shell
#!/bin/bash

# Exit on any failure
set -e

# Update package lists
echo "# Updating package lists"
sudo apt-add-repository -y ppa:git-core/ppa
sudo apt-get update

# Install Git
echo "# Installing Git"
sudo apt-get install -y git

# Install nvm dependencies
echo "# Installing nvm dependencies"
sudo apt-get -y install build-essential libssl-dev

# Execute nvm installation script
echo "# Executing nvm installation script"
curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.34.0/install.sh | bash

# Set up nvm environment without restarting the shell
export NVM_DIR="${HOME}/.nvm"
[ -s "${NVM_DIR}/nvm.sh" ] && . "${NVM_DIR}/nvm.sh"
[ -s "${NVM_DIR}/bash_completion" ] && . "${NVM_DIR}/bash_completion"

# Install node
echo "# Installing nodeJS"
nvm install 11.14.0
nvm use 11.14.0

# Ensure that CA certificates are installed
sudo apt-get -y install apt-transport-https ca-certificates

# Install python v3 if required
set +e
sudo add-apt-repository ppa:deadsnakes/ppa
sudo apt-get update
sudo apt-get install python3.7

# Print installation details for user
echo ''
echo 'Installation completed, versions installed are:'
echo ''
echo -n 'Node:           '
node --version
echo -n 'npm:            '
npm --version
echo -n 'Python:         '
python -v

# Print reminder of need to logout in order for these changes to take effect!
echo ''
echo "Please logout then login before continuing."
```

### Fish Shell(Optional)

[friendly interactive shell github](https://github.com/fish-shell/fish-shell)

#### Install Fish

```shell
sudo apt-add-repository ppa:fish-shell/release-3
sudo apt-get update
sudo apt-get install fish
```

#### Install Oh-My-Fish

```shell
curl -L https://get.oh-my.fish | fish
```

#### Oh-My-Fish Plugins

##### NVM

```shell
omf install nvm
```

#### Switching to fish

```shell
chsh -s /usr/bin/fish
```

Use the following command if fish isn't already added to `/etc/shells` to permit fish to be your login shell:

```shell
echo /usr/bin/fish | sudo tee -a /etc/shells
```

To switch your default shell back, you can run `chsh -s /bin/bash` (substituting `/bin/bash` with `/bin/tcsh` or `/bin/zsh` as appropriate).

#### This will help you if you get permissions problems with nvm

```shell
sudo chown -R $(whoami) ~/.nvm
```
<!-- Links -->
[Ubuntu Microsoft Store]: https://www.microsoft.com/en-us/p/ubuntu-1804-lts/9n9tngvndl3q
[Hyper Terminal]: https://hyper.is